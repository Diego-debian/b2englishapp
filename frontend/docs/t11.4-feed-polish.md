# Task 11.4: Feed Polish

## Overview
This task completes the visual refresh for the "Feed" view (Legacy UI), ensuring it uses the centralized Design System tokens (`ds.*`) behind the `NEXT_PUBLIC_FEATURE_UI_V11` feature flag.

## Changes

### 1. `lib/designSystem.ts`
- Added missing state tokens:
  - `ds.state.loading`: Pulse animation container.
  - `ds.state.error`: Red alert box style.

### 2. `app/content/feed/FeedClient.tsx`
- Refactored the **Legacy UI** return block (lines ~152+) to use `ds` tokens.
- **Key Strategy**:
    - Replaced manual Tailwind classes with `ds.layout.page`, `ds.typo.h1/subtitle`, `ds.form.input`, `ds.card.root`, `ds.meta.tag/date`.
    - Preserved the *spirit* of the legacy UI when flag is OFF (Dark Mode specific classes passed as default).
    - Enabled consistent V11 styling (Light Mode, cleaner typography) when flag is ON.

## Verification

### Feature Flag: `NEXT_PUBLIC_FEATURE_UI_V11`
- **Default**: `false` (OFF).

### Checklist

1.  **Build Verification**:
    - [ ] `npm run build` passes.

2.  **Manual Verification (Flag OFF)**:
    - [ ] Visit `/content/feed`.
    - [ ] Confirm layout is identical to production (Dark Theme).
    - [ ] Cards should have dark backgrounds (`bg-slate-900`).
    - [ ] Filters should look like dark inputs.

3.  **Manual Verification (Flag ON)**:
    - [ ] Enable flag in `.env.local`.
    - [ ] Visit `/content/feed`.
    - [ ] Verify improvements:
        - Page background should be light (`bg-slate-50`).
        - Cards should be light, cleaner, consistent with other V11 pages.
        - Typography should use standard sizes/fonts defined in `ds`.
    - [ ] Responsiveness check on mobile.

## Risks
- **Theme Conflict**: Legacy UI is hardcoded Dark Mode. V11 Design System defaults to Light Mode. By passing the legacy classes as defaults to `ds` factories, we ensure OFF = Dark, ON = Light. This is intended but visually distinct switch.
