# T4.1 Reducir Hardcode Crítico

> **Scope**: Extraer hardcode crítico sin cambiar comportamiento.
> **Status**: ✅ COMPLETADO

---

## Resumen

Se extrajeron valores hardcodeados críticos a un archivo de constantes centralizado:
- **3 storage keys** → `STORAGE_KEYS`
- **8 rutas de navegación** → `ROUTES`

---

## Archivos Tocados (4)

| Archivo | Cambio |
|---------|--------|
| `frontend/lib/constants.ts` | **NUEVO** - Exporta STORAGE_KEYS y ROUTES |
| `frontend/lib/storage.ts` | Usa STORAGE_KEYS.AUTH |
| `frontend/lib/focusStorage.ts` | Usa STORAGE_KEYS.FOCUS_STATS y FOCUS_DECK |
| `frontend/components/GamifiedHeader.tsx` | Usa ROUTES para navegación |

---

## Verificación

### Build
```
npm run build → ✅ Exit code 0
25 páginas generadas correctamente
```

### Smoke Tests Manuales

| Ruta | Verificación |
|------|--------------|
| `/verbs/1` | Cargar página de verbo individual |
| `/practice/focus` | Selector de tenses, iniciar sesión |
| `/tenses` | Lista de tenses carga |
| Header nav | Dashboard/Practice/Verbs/Tenses/Progress navegan OK |

### No Behavior Changes

| Aspecto | Estado |
|---------|--------|
| Rutas finales | Idénticas (strings no cambiaron) |
| Storage keys | Idénticos (strings no cambiaron) |
| UI Header | Sin cambios visuales |
| Focus detection | Funciona igual |

---

## Constantes Creadas

```typescript
// frontend/lib/constants.ts
export const STORAGE_KEYS = {
  AUTH: "b2english.auth.v1",
  FOCUS_STATS: "b2_focus_stats",
  FOCUS_DECK: "b2_focus_deck",
} as const;

export const ROUTES = {
  HOME: "/",
  DASHBOARD: "/dashboard",
  PRACTICE: "/practice",
  FOCUS: "/practice/focus",
  VERBS: "/verbs",
  TENSES: "/tenses",
  PROGRESS: "/progress",
  LOGIN: "/login",
} as const;
```

---

*Completado: 2026-01-18*
