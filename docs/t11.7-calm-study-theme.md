# T11.7: Calm Study Theme Specification

> V11 feature flag: `NEXT_PUBLIC_FEATURE_UI_V11`

## V11 Calm Palette Spec

### Surfaces
| Token | Class |
|-------|-------|
| Page background | `bg-stone-50` |
| Card | `bg-white` |
| Panel | `bg-stone-100/70` |
| Header | `bg-stone-100` |

### Text Colors
| Token | Class | Usage |
|-------|-------|-------|
| Primary | `text-stone-900` | Headings, important content |
| Secondary | `text-stone-700` | Body text |
| Muted | `text-stone-600` | Helper text, meta (higher contrast than slate-500) |
| Accent | `text-violet-700` | Links, highlights |

### Borders & Effects
| Token | Class |
|-------|-------|
| Default | `border-stone-200` |
| Subtle | `border-stone-100` |
| Focus ring | `focus:ring-2 focus:ring-violet-400/50` |
| Shadow | `shadow-sm` |

---

## OFF/ON Checklist

### Flag OFF (`NEXT_PUBLIC_FEATURE_UI_V11=false`)
- [ ] Legacy dark theme preserved
- [ ] All pages render identically to before
- [ ] No visual regressions

### Flag ON (`NEXT_PUBLIC_FEATURE_UI_V11=true`)
- [ ] Page has warm stone-50 background
- [ ] Cards have subtle stone-200 borders
- [ ] Headings are clearly darker than body
- [ ] Body text readable on all surfaces
- [ ] Muted text visible but secondary
- [ ] Links distinguishable (violet-700 + underline)
- [ ] Focus rings visible but not aggressive
- [ ] Tables have warm stone hover states
- [ ] Filter tabs use consistent palette

---

## 5 Rules of Legibility

1. **Heading Contrast**: Headings use `text-stone-900` (darkest) to stand out from `text-stone-700` body text

2. **Body Readable**: Body text uses `text-stone-700` which provides 7:1+ contrast on white cards and 4.5:1+ on stone-50 backgrounds

3. **Muted Distinct**: Muted text uses `text-stone-600` (not 500), making it clearly visible while still appearing secondary

4. **Links Visible**: Links use `text-violet-700` with `underline` and `decoration-violet-300`, ensuring they're never mistaken for regular text

5. **Focus Accessible**: Focus rings use `ring-violet-400/50` (50% opacity), providing clear feedback without overwhelming the calm aesthetic

---

## Files Modified

- `frontend/lib/designSystem.ts` — V11 semantic tokens updated

## Build Status

✅ `npm run build` passed
