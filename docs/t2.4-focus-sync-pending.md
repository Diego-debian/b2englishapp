# T2.4 Focus Sync Pending Indicator

> Minimal UI feedback when Focus results fail to sync to backend.

---

## Files Modified

| File | Change |
|------|--------|
| `frontend/app/practice/focus/page.tsx` | Added syncStatus state, retry handler, UI indicator |

---

## Sync States

| State | Trigger | UI |
|-------|---------|-----|
| `idle` | New session started | Nothing shown |
| `syncing` | POST in progress | "Syncing…" (animated) |
| `synced` | POST succeeded | "✓ Synced" (green) |
| `pending` | POST failed | "⚠ Sync pending" + Retry button |

---

## Where the Logic Lives

**File:** `frontend/app/practice/focus/page.tsx`

1. **State:** `syncStatus` + `pendingPayloadRef`
2. **Sync call:** Inside `handleNext()` when session ends
3. **Retry:** `handleRetrySync()` function
4. **UI:** Sync Status Indicator section in summary render

---

## Manual Testing

### A) Backend ON — Normal flow

1. `npm run dev` (frontend) + backend running
2. Login → `/practice/focus`
3. Complete session
4. Summary shows "✓ Synced"

### B) Backend OFF — Failure flow

1. Stop backend
2. Complete Focus session
3. Summary shows "⚠ Sync pending (this device)" + Retry button
4. Click Retry → Shows "Syncing…" briefly → Back to "pending"

### C) Recovery flow

1. Start with backend OFF, complete session → "pending"
2. Start backend
3. Click "Retry sync"
4. Summary updates to "✓ Synced"

---

## Changelog

| Version | Date | Changes |
|---------|------|---------|
| 1.0.0 | 2026-01-17 | Initial implementation |
